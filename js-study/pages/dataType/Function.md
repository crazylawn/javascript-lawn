# 4.1 함수정의

자바 스크립트에서 함수를 생성하는 방법은 3가지가 있다.

- 함수 선언문
- 함수 표현식
- Function() 생성자 함수

# 4.1.1 함수리터럴

함수 리터럴을 통한 add() 함수정의

function add(x,y) {
return x+y;
}

# 4.1.2 함수선언문 방식으로 함수생성

함수 선언문 방식으로 정의된 함수의 경우에는 반드시 함수명이 정의되어 있어야 한다는 것
예제 4-1 add() 함수생성

//add() 함수 생성

function add(x,y) {
return x+y;
}
console.log(add(3,4)); 출력값 7

# 4.1.3 함수표현식 방식으로 함수생성

자스에서는 함수도 하나의 값 처럼 취급된다. 이것을 자바스크립트에서는 일급객체라고 하며,
함수도 숫자나 문자열처럼 변수에 할당한느 것이 가능함.

이런 방식으로 함수 리터럴로 하나의 함수를 만들고,
여기서 생성된 함수를 변수에 할당해서 함수를 생성하는 것이 함수 표현식이다

# 4.1.4 Function() 생성자 함수를 통한 함수 생성

자바스크립트의 함수도 function() 이라는 기본 내장 생성자 함수로부터 생성된 객체이다.
함수 선언문이나 함수 표현식 방식도 Function() 생성자 함수가 아닌 함수 리터럴 방식으로 함수를 생성하지만
결국, 내부적으로는 Function() 생성자 함수로 함수가 생성된다.

# 예제4-5 Function() 생성자 함수를 이용한 add() 함수생성

var add = new Function('x' ,'y','return x+y');
console.log(3,4); //출력값 7

# 4.1.5 함수 호이스팅

자바스크립트에서 함수를 생성하는 3가지 방법을 살펴봤다.
코드는 약간씩 다르지만 서로 모두 같은 기능의 함수를 생성함을 확인할 수 있다.
하지만 동작방식에서 약간 차이가 있는데 이게 바로 함수 호이스팅이다.

함수 호이스팅이 발생하는 원인은 자바스트립트의 변수생성 과 초기화의 작업이 분리돼서 진행되기 때문이다.

# 4.3 함수의 다양한 형태

# 4.3.1 콜백 함수

자바스트립트 함수표현식에서 함수이름은 꼭 붙이지 않아도 된다.
즉, 함수의 이름을 지정하지 않아도 함수가 정의되며, 이러한 함수가 익명함수이다.
이러한 익명함수의 대표적인 용도가 바로 콜백함수이다.
콜백함수는 코드를 통해 명시적으로 호출하는 함수가 아니라, 개발자는 단지 함수를 등록하기만 하고,
어떤 이벤트가 발생했거나 특정시점에 도달했을때 시스템에서 호출되는 함수를 말한다.
또, 특정함수의 인자로 넘겨서, 코드내부에서 호출되는 함수 또한 콜백함수가 될 수 있다.

대표적인 콜백함수의 사용 예가 자바스크립트에서의 이벤트 핸들러 처리이다.
웹 페이지가 로드되거나 키보드가 입력되는 등의 DOM 이벤트가 발생할 경우 ,
브라우저는 정의된 DOM 이벤트에 해당하는 이벤트 핸들러를 실행시킨다.
만약 이러한 이벤트 핸들러에 콜백함수가 등록했으면 콜백 함수는 이벤트가 발생할 때마다 브라우저에 의해 실행된다.

# 즉시 실행 함수 패턴

즉시 실행 함수 패턴은 이미 언급했듯이, 라이브러리 코드가 로드되면 실행되는 초기화 작업을 할때
많이 사용된다. jQuery 외에도 대부분의 라이브러리가 이와 같은 방식입니다.

(function() {
var root = this;
var previousUnderscore = root.\_;

    var _ = function(obj) {return new wrapper(obj);};

    root['_'] = _;

}).call(this);

Underscore 1.3.3 은 call 함수를 this 인자와 함께 사용하였다.
이렇게 넘긴 this가 즉시실행 함수 내부의 this에 바인딩된다.
물론 이것도 전역객체이다.함수 내부에서 root라는 이름으로 사용된다.
그리고 root에 '\_' 를 추가한다.
underscore는 브라우저뿐만 아니라, node.js 에서도 사용이 가능하게 설계되었다.

# 4.3.3 내부함수

자바스크립트에서는 함수코드 내부에서도 다시 함수 정의가 가능하다.
이렇게 함수 내부의 정의된 함수를 내부함수라고 부른다.
내부 함수는 자바스크립트의 기능을 보다 강력하게 해주는 클로저를 생성하거나
부모 함수 코드에서 외부에서의 접근을 막고 독립적인 헬퍼 함수를 구현하는 용도 등으로 사용한다.

# 예제 4-18 내부 함수 예제 코드

//parent() 함수정의

function parent() {

    var a = 100;
    var b = 200;

    //child() 내부 함수 정의
    function child() {
        var b = 300;

    console.log(a); // 1번 : 100
    console.log(b); // 2번 : 300
    }
    child(); // 3번

}

내부 함수에서는 자신을 둘러싼 부모 함수의 변수에 접근이 가능한다.

1.child() 내부함수에 변수 a가 선언되지 않았음에도 3에서 child() 함수가 호출됐을 때 값이 100이 출력된다.
이것은 parent() 함수의 변수 a 값에 접근하여 출력했기 때문이다.

2.반면에 변수 b는 child() 함수에 선언이 되어 있으므로 parent() 함수의 b 변수가 아닌 child() 함수의 변수 b값이 바로 출력됐다.
